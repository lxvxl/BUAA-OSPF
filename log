==7547== Invalid read of size 8
==7547==    at 0x4EDEA60: std::_Rb_tree_increment(std::_Rb_tree_node_base const*) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21)
==7547==    by 0x406A2A: std::_Rb_tree_iterator<std::pair<LSAHeader* const, int> >::operator++() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x418891: Neighbor::LSURetransmitManager::remove_lsa(LSAHeader*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x410651: handle_recv_lsack(OSPFLSAck*, Interface*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x40F4E8: Interface::recv_thread_runner() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4154F6: void std::_Mem_fn_base<void (Interface::*)(), true>::operator()<, void>(Interface*) const (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x41544A: void std::_Bind<std::_Mem_fn<void (Interface::*)()> (Interface*)>::__call<void, , 0ul>(std::tuple<>&&, std::_Index_tuple<0ul>) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4153A0: void std::_Bind<std::_Mem_fn<void (Interface::*)()> (Interface*)>::operator()<, void>() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x415365: void std::_Bind_simple<std::_Bind<std::_Mem_fn<void (Interface::*)()> (Interface*)> ()>::_M_invoke<>(std::_Index_tuple<>) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4152BB: std::_Bind_simple<std::_Bind<std::_Mem_fn<void (Interface::*)()> (Interface*)> ()>::operator()() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x41524B: std::thread::_Impl<std::_Bind_simple<std::_Bind<std::_Mem_fn<void (Interface::*)()> (Interface*)> ()> >::_M_run() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4EF2C7F: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21)
==7547==  Address 0x5cd8348 is 24 bytes inside a block of size 48 free'd
==7547==    at 0x4C2F24B: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7547==    by 0x408F75: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<LSAHeader* const, int> > >::deallocate(std::_Rb_tree_node<std::pair<LSAHeader* const, int> >*, unsigned long) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x408A2A: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<LSAHeader* const, int> > > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<LSAHeader* const, int> > >&, std::_Rb_tree_node<std::pair<LSAHeader* const, int> >*, unsigned long) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x407D96: std::_Rb_tree<LSAHeader*, std::pair<LSAHeader* const, int>, std::_Select1st<std::pair<LSAHeader* const, int> >, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::_M_put_node(std::_Rb_tree_node<std::pair<LSAHeader* const, int> >*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4065A3: std::_Rb_tree<LSAHeader*, std::pair<LSAHeader* const, int>, std::_Select1st<std::pair<LSAHeader* const, int> >, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::_M_drop_node(std::_Rb_tree_node<std::pair<LSAHeader* const, int> >*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x406A79: std::_Rb_tree<LSAHeader*, std::pair<LSAHeader* const, int>, std::_Select1st<std::pair<LSAHeader* const, int> >, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<LSAHeader* const, int> >) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x405160: std::_Rb_tree<LSAHeader*, std::pair<LSAHeader* const, int>, std::_Select1st<std::pair<LSAHeader* const, int> >, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::erase[abi:cxx11](std::_Rb_tree_iterator<std::pair<LSAHeader* const, int> >) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x403DE0: std::map<LSAHeader*, int, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::erase[abi:cxx11](std::_Rb_tree_iterator<std::pair<LSAHeader* const, int> >) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x418885: Neighbor::LSURetransmitManager::remove_lsa(LSAHeader*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x410651: handle_recv_lsack(OSPFLSAck*, Interface*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x40F4E8: Interface::recv_thread_runner() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4154F6: void std::_Mem_fn_base<void (Interface::*)(), true>::operator()<, void>(Interface*) const (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==  Block was alloc'd at
==7547==    at 0x4C2E0EF: operator new(unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7547==    by 0x4091AE: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<LSAHeader* const, int> > >::allocate(unsigned long, void const*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x408C4C: std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<LSAHeader* const, int> > > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<LSAHeader* const, int> > >&, unsigned long) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x408256: std::_Rb_tree<LSAHeader*, std::pair<LSAHeader* const, int>, std::_Select1st<std::pair<LSAHeader* const, int> >, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::_M_get_node() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x418D1A: std::_Rb_tree_node<std::pair<LSAHeader* const, int> >* std::_Rb_tree<LSAHeader*, std::pair<LSAHeader* const, int>, std::_Select1st<std::pair<LSAHeader* const, int> >, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::_M_create_node<std::piecewise_construct_t const&, std::tuple<LSAHeader* const&>, std::tuple<> >(std::piecewise_construct_t const&, std::tuple<LSAHeader* const&>&&, std::tuple<>&&) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x418BE2: std::_Rb_tree_iterator<std::pair<LSAHeader* const, int> > std::_Rb_tree<LSAHeader*, std::pair<LSAHeader* const, int>, std::_Select1st<std::pair<LSAHeader* const, int> >, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::_M_emplace_hint_unique<std::piecewise_construct_t const&, std::tuple<LSAHeader* const&>, std::tuple<> >(std::_Rb_tree_const_iterator<std::pair<LSAHeader* const, int> >, std::piecewise_construct_t const&, std::tuple<LSAHeader* const&>&&, std::tuple<>&&) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x418AEA: std::map<LSAHeader*, int, std::less<LSAHeader*>, std::allocator<std::pair<LSAHeader* const, int> > >::operator[](LSAHeader* const&) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4188CE: Neighbor::LSURetransmitManager::add_lsa(LSAHeader*) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x402CF9: LSADatabase::flood(LSAHeader*, Interface*, InterfaceState) (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x402E91: LSADatabase::generate_router_lsa() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x417A3D: Neighbor::event_loading_done() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)
==7547==    by 0x4161E4: Interface::send_thread_runner() (in /home/zj/桌面/ospf/BUAA-OSPF/myOspf)